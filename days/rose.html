<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Rose Day</title>
  <link rel="stylesheet" href="../assets/styles.css"/>
  <link rel="stylesheet" href="./rose.css"/>
</head>
<body class="rosePage">
  <main class="roseWrap">
    <header class="roseHeader">
      <h1>üåπ Rose Day Roulette</h1>
      <p>Snap your rose away!</p>
    </header>

    <section class="roseStage" aria-live="polite">
      <div class="camShell" id="camShell">
        <video id="camera" autoplay playsinline muted></video>
        <div class="fallbackBg" id="fallbackBg" aria-hidden="true"></div>

        <button class="downloadBtn is-hidden" id="downloadBtn" type="button" aria-label="Download">‚¨áÔ∏è</button>

        <div class="roulette" id="roulette" aria-hidden="true">
          <img class="rouletteImg" id="rouletteImg" src="" alt="Bouquet"/>
        </div>

        <div class="bouquet" id="bouquet" aria-hidden="true">
          <img id="bouquetImg" src="" alt="Bouquet"/>
        </div>

        <div class="resultCard" id="resultCard" aria-hidden="true">
          <h2 id="resultTitle">Ruby Red Rose</h2>
          <p id="resultText">Bold love, steady heart.</p>
        </div>

        <div class="controls">
          <button class="shutter is-hidden" id="shutterBtn" aria-label="Snap and reveal">
            <span class="shutterRing"></span>
          </button>
        </div>
      </div>

      <div class="outerControls">
        <button class="btn playBtn is-hidden" id="playBtn" type="button">Play</button>
        <button class="btn ghost is-hidden" id="againBtn" type="button">Play again</button>
      </div>
    </section>
  </main>

  <div class="introOverlay" id="introOverlay" aria-hidden="false">
    <button class="introPlay" id="introPlay" aria-label="Start">‚ñ∂Ô∏é</button>
  </div>

  <div class="modeOverlay is-hidden" id="modeOverlay" aria-hidden="true">
    <div class="modeCard">
      <h3>Choose your mode</h3>
      <div class="modeBtns">
        <button class="btn" id="modeCamera">With camera</button>
        <button class="btn ghost" id="modeStatic">Without camera</button>
      </div>
    </div>
  </div>

  <button class="musicFab" id="musicBtn" aria-pressed="false" title="Play music">‚ñ∂Ô∏é üéß</button>
  <audio id="bgm" src="../assets/audio/rose_day.mp3" preload="auto" loop></audio>

  <script>
    localStorage.setItem("vw:visited:rose", "1");
  </script>
  <script src="./rose.js"></script>
</body>
</html>
